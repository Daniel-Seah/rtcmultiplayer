/*
 * Room model
 * 
 * @author Daniel Seah
 */
function Room(id, game) {
	var self = this;
	
	this.id			= id;
	this.game		= game;
	this.password	= '';
	this.maxUsers	= 0;
	this.isOpen		= true;
	this.users		= [];
	this.host		= null;
	
	this.addUser = function(user) {
		this.users.push(user);
	};
	
	this.removeUser = function(user) {
		var i = this.users.indexOf(user);
		if(i >= 0) {
			this.users.splice(i, 1);
		}
	};
	
	this.contains = function(user) {
		var i = this.users.indexOf(user);
		if(i >= 0) {
			return true;
		} else {
			return false
		}
	};
	
	this.serialize = function() {
		return {
			id		: this.id,
			game	: this.game,
			players	: this.users.length,
			size	: this.maxUsers,
			state	: this.isOpen
		};
	};
}

if(typeof global !== 'undefined') { module.exports = Room; }
